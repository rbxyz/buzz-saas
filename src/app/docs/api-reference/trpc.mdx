# API tRPC

A API interna do `buzz-saas` é construída com [tRPC](https://trpc.io/), o que garante segurança de tipos de ponta-a-ponta entre o frontend e o backend.

## Router: `configuracao`

Este router gerencia todas as operações relacionadas às configurações do estabelecimento.

### `query: obterConfiguracaoCompleta`

Busca todas as informações de configuração associadas a um `userId`, incluindo dados da empresa, serviços e horários de trabalho.

-   **Input:** Nenhum. O `userId` é obtido a partir da sessão do usuário autenticado.
-   **Output (Simplificado):**
    ```typescript
    {
      configuracao: {
        nomeEmpresa: string;
        telefone: string;
        endereco: string;
        // ... outras configurações
      };
      servicos: {
        id: number;
        nome: string;
        preco: string;
        duracao: number;
      }[];
      intervalosTrabalho: {
        diaSemana: number;
        horaInicio: string;
        horaFim: string;
      }[];
    }
    ```

### `mutation: atualizarConfiguracao`

Atualiza os dados do estabelecimento.

-   **Input:**
    ```typescript
    {
      nomeEmpresa?: string;
      telefone?: string;
      endereco?: string;
    }
    ```
-   **Output:** Retorna a configuração atualizada. 